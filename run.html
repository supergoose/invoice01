<html>
    <head>
        <title>Main Slideshow</title>

        <!-- CSS -->
        <link rel="stylesheet" href="lib/css/jquery.maximage.css" type="text/css" media="screen" title="CSS" charset="utf-8" />
        
        <!-- JS -->
        <script type="text/javascript" src="lib/js/mousetrap.js"></script>
        <script src="lib/js/jquery.js"></script>
        <script src="lib/js/jquery.cycle.all.js" type="text/javascript"></script>
        <script src="lib/js/jquery.easing.1.3.js" type="text/javascript"></script>
        <script src="lib/js/jquery.maximage.min.js" type="text/javascript"></script>
    </head>
    <body onload="pageLoaded()">
        
        
        <div id="maximage">
            <div class="first-item">
                <img src="lib/images/demo/wall_portrait.jpg" alt="" />
                <img id="gradient" src="lib/images/demo/gradient.png" alt="" />
                <div class="in-slide-content">
                    <p>Remember, you are not limited to image elements.  You can display other HTML too.</p>
                    <p><a href="http://blog.aaronvanderzwan.com/2011/11/maximage-2-0-beta1-release/" target="_blank" style="font-weight:bold">More info >></a></p>
                </div>
            </div>
            <img src="lib/images/demo/coalesse.jpg" alt="Coalesse" data-href="http://www.google.com/" />
            <img src="lib/images/demo/laughing.jpg" alt="" />
            
            <img src="lib/images/demo/roof_shooting.jpg" alt="" />
            <img src="lib/images/demo/man.jpg" alt="" />
            <img src="lib/images/demo/coffee_shop.jpg" alt="" />
            <img src="lib/images/demo/gas_station.jpg" alt="" />
        </div>
        
        
        
        
        
        
        
        <script>
        $(function(){
            $('#maximage').maximage({
                cycleOptions: {
                    fx:'fade',
                    speed: 800,
                    timeout: 1000,
                    prev: '#arrow_left',
                    next: '#arrow_right'
                },
                onFirstImageLoaded: function(){
                    jQuery('#cycle-loader').hide();
                    jQuery('#maximage').fadeIn('fast');
                }
            });
        });
        
        //Run on page load complete
            function pageLoaded()
            {
                console.log("Page loaded");
                
                //Get the XML
                var xhttp = new XMLHttpRequest();
                xhttp.open("GET", "/loadxml.php?t="+Math.random(), true);
                
                //When we have received data
                xhttp.onreadystatechange = function()
                {
                    //Check was successful
                    if(this.readyState == 4 && this.status == 200)
                    {
                        var slides = JSON.parse(this.responseText); //parse it into a JS array of objects
                        
                        //Get the list element
                        var slidelist_element = document.getElementById("slidelist");
                        
                        //Populate the list
                        slides.forEach(function(element){
                            
                        });

                    }
                }
                
                //Get doc asynchronously
                xhttp.send();
            }
            
        
            //If the user presses space we need to navigate to our edit mode
            Mousetrap.bind('space', function(e) {
                window.location.href = "/edit/slideshow.html";
                
            });
        </script>
    </body>
</html>